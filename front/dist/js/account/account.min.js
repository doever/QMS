function Signin(){this.submitBtn=$(".login-btn input[type=button]")}function Signup(){}Signin.prototype.run=function(){this.listenSignIn()},Signin.prototype.listenSignIn=function(){this.submitBtn.click(function(){var n=$("input[name='username']").val(),i=$("input[name='password']").val(),e=$("input:checkbox:checked").val();console.log(n,i,e),n?i?csrfajax.post({url:"/account/signin/",data:{username:n,password:i,remember:e},success:function(n){if(console.log(n.code),200==n.code)console.log(n),window.location.href="http://127.0.0.1:8000";else{var i=n.message;if("string"==typeof i)layer.msg(i);else{var e=[];$.each(i,function(n,i){e.push(i[0])}),layer.msg(e[0])}}},error:function(n){console.log(n)}}):layer.tips("请输入密码","input[name=password]"):layer.tips("请输入用户名","input[name=username]")})},$(function(){(new Signin).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnQvYWNjb3VudC5qcyJdLCJuYW1lcyI6WyJTaWduaW4iLCJ0aGlzIiwic3VibWl0QnRuIiwiJCIsIlNpZ251cCIsInByb3RvdHlwZSIsInJ1biIsImxpc3RlblNpZ25JbiIsImNsaWNrIiwidXNlcm5hbWUiLCJ2YWwiLCJwYXNzd29yZCIsInJlbWVtYmVyIiwiY29uc29sZSIsImxvZyIsImNzcmZhamF4IiwicG9zdCIsInVybCIsImRhdGEiLCJzdWNjZXNzIiwicmVzdWx0Iiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwibWVzc2FnZU9iaiIsImxheWVyIiwibXNnIiwibWVzc2FnZXMiLCJlYWNoIiwiayIsInYiLCJwdXNoIiwiZXJyb3IiLCJ0aXBzIl0sIm1hcHBpbmdzIjoiQUFDQSxTQUFTQSxTQUNMQyxLQUFLQyxVQUFZQyxFQUFFLGlDQXVEdkIsU0FBU0MsVUFwRFRKLE9BQU9LLFVBQVVDLElBQU0sV0FDUkwsS0FDTk0sZ0JBR1RQLE9BQU9LLFVBQVVFLGFBQWUsV0FDakJOLEtBQ05DLFVBQVVNLE1BQU0sV0FDakIsSUFBSUMsRUFBV04sRUFBRSwwQkFBMEJPLE1BQ3ZDQyxFQUFXUixFQUFFLDBCQUEwQk8sTUFDdkNFLEVBQVdULEVBQUUsMEJBQTBCTyxNQUMzQ0csUUFBUUMsSUFBSUwsRUFBVUUsRUFBVUMsR0FDNUJILEVBRU1FLEVBR1ZJLFNBQVNDLEtBQUssQ0FDVkMsSUFBTyxtQkFDUEMsS0FBUSxDQUNKVCxTQUFZQSxFQUNaRSxTQUFZQSxFQUNaQyxTQUFZQSxHQUVoQk8sUUFBVyxTQUFVQyxHQUVqQixHQURBUCxRQUFRQyxJQUFJTSxFQUFhLE1BQ0gsS0FBbEJBLEVBQWEsS0FDYlAsUUFBUUMsSUFBSU0sR0FDWkMsT0FBT0MsU0FBU0MsS0FBSyw0QkFDbEIsQ0FDSCxJQUFJQyxFQUFhSixFQUFnQixRQUNqQyxHQUF5QixpQkFBZEksRUFDUEMsTUFBTUMsSUFBSUYsT0FDUCxDQUNILElBQUlHLEVBQVcsR0FDZnhCLEVBQUV5QixLQUFLSixFQUFZLFNBQVVLLEVBQUdDLEdBQzVCSCxFQUFTSSxLQUFLRCxFQUFFLE1BRXBCTCxNQUFNQyxJQUFJQyxFQUFTLE9BSS9CSyxNQUFTLFNBQVVBLEdBQ2ZuQixRQUFRQyxJQUFJa0IsTUE1QmhCUCxNQUFNUSxLQUFLLFFBQVEsd0JBRm5CUixNQUFNUSxLQUFLLFNBQVMsMkJBMkNoQzlCLEVBQUUsWUFDZ0IsSUFBSUgsUUFDVk0iLCJmaWxlIjoiYWNjb3VudC9hY2NvdW50Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8v5aSE55CG55m75b2V6K+35rGCXHJcbmZ1bmN0aW9uIFNpZ25pbigpIHtcclxuICAgIHRoaXMuc3VibWl0QnRuID0gJChcIi5sb2dpbi1idG4gaW5wdXRbdHlwZT1idXR0b25dXCIpO1xyXG59XHJcblxyXG5TaWduaW4ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYubGlzdGVuU2lnbkluKCk7XHJcbn07XHJcblxyXG5TaWduaW4ucHJvdG90eXBlLmxpc3RlblNpZ25JbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuc3VibWl0QnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdXNlcm5hbWUgPSAkKFwiaW5wdXRbbmFtZT0ndXNlcm5hbWUnXVwiKS52YWwoKTtcclxuICAgICAgICB2YXIgcGFzc3dvcmQgPSAkKFwiaW5wdXRbbmFtZT0ncGFzc3dvcmQnXVwiKS52YWwoKTtcclxuICAgICAgICB2YXIgcmVtZW1iZXIgPSAkKFwiaW5wdXQ6Y2hlY2tib3g6Y2hlY2tlZFwiKS52YWwoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyh1c2VybmFtZSwgcGFzc3dvcmQsIHJlbWVtYmVyKTtcclxuICAgICAgICBpZighdXNlcm5hbWUpe1xyXG4gICAgICAgICAgICBsYXllci50aXBzKCfor7fovpPlhaXnlKjmiLflkI0nLFwiaW5wdXRbbmFtZT11c2VybmFtZV1cIik7XHJcbiAgICAgICAgfWVsc2UgaWYoIXBhc3N3b3JkKXtcclxuICAgICAgICAgICAgbGF5ZXIudGlwcygn6K+36L6T5YWl5a+G56CBJyxcImlucHV0W25hbWU9cGFzc3dvcmRdXCIpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgIGNzcmZhamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9hY2NvdW50L3NpZ25pbi8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICd1c2VybmFtZSc6IHVzZXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgJ3Bhc3N3b3JkJzogcGFzc3dvcmQsXHJcbiAgICAgICAgICAgICAgICAncmVtZW1iZXInOiByZW1lbWJlclxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdFsnY29kZSddKTtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmPSdodHRwOi8vMTI3LjAuMC4xOjgwMDAnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZU9iaiA9IHJlc3VsdFsnbWVzc2FnZSddO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZU9iaiA9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllci5tc2cobWVzc2FnZU9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2VzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChtZXNzYWdlT2JqLCBmdW5jdGlvbiAoaywgdikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXMucHVzaCh2WzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLm1zZyhtZXNzYWdlc1swXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnZXJyb3InOiBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG59O1xyXG5cclxuXHJcbmZ1bmN0aW9uIFNpZ251cCgpIHtcclxuXHJcbn1cclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNpZ25vYmogPSBuZXcgU2lnbmluKCk7XHJcbiAgICBzaWdub2JqLnJ1bigpO1xyXG59KTsiXX0=
